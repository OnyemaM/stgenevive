<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
		<!-- Bootstrap Icons CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
		<title>Document</title>
	</head>
	<style>
		#countdown {
			font-weight: bold;
		}
	</style>
	<body>
		<div class="container text-center mt-5">
			<h1>Sales Ending Countdown</h1>
			<div id="countdown" class="display-4">
				<span id="days"></span> Days <span id="hours"></span> Hours <span id="minutes"></span> Minutes <span id="seconds"></span> Seconds
			</div>
		</div>

		<!-- Bootstrap JS and dependencies -->
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

		<script>
			function countdown() {
				let endDate = new Date(localStorage.getItem("countdownEnd"));

				if (!endDate || endDate < new Date()) {
					// Set countdown to 30 days from now and save in local storage
					endDate = new Date(new Date().getTime() + 30 * 24 * 60 * 60 * 1000);
					localStorage.setItem("countdownEnd", endDate);
				}

				const updateCountdown = () => {
					const now = new Date();
					const difference = endDate - now;

					const days = Math.floor(difference / (1000 * 60 * 60 * 24));
					const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
					const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
					const seconds = Math.floor((difference % (1000 * 60)) / 1000);

					document.getElementById("days").textContent = days;
					document.getElementById("hours").textContent = hours;
					document.getElementById("minutes").textContent = minutes;
					document.getElementById("seconds").textContent = seconds;

					if (difference < 0) {
						clearInterval(interval);
						document.getElementById("countdown").textContent = "Sales ended!";
						localStorage.removeItem("countdownEnd"); // Clear the stored end date
					}
				};

				updateCountdown();
				const interval = setInterval(updateCountdown, 1000);
			}

			window.onload = countdown;
		</script>
	</body>
</html>

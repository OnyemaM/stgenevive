<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Edit Profile</title>
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
		<!-- Bootstrap Icons CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
		<!-- Custom CSS -->
		<style>
			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}
			body {
				font-family: "Lato", sans-serif;
				background-color: #e9e9e9;
			}
			a {
				text-decoration: none;
			}

			.btn-color {
				background-color: #33cc99;
				color: #fff;
				border-radius: 2px;
			}

			.btn-color:hover {
				color: #33cc99;
				background-color: transparent;
			}

			.bi-plus-circle-fill {
				color: #33cc99;
			}

			.profile-wrapper {
				/* display: flex; */
				/* padding: 20px; */
				/* gap: 20px; */
				width: 70%;
			}

			.navbar-nav .nav-link {
				color: #000;
			}
			ul li button {
				color: #000;
			}

			.profile-body {
				flex-grow: 1;
				margin-top: 0;
			}
			.info {
				background-color: #ffffe9;
			}

			.info h3 {
				font-weight: 700;
				color: #172441;
				margin-bottom: 0;
				font-size: 24px;
			}
			.info p {
				color: #aeaeae;
				font-size: 12px;
				margin-bottom: 0;
			}
			.avatar-container {
				position: relative;
				display: inline-block;
			}

			.avatar {
				/* width: 150px; */
				/* height: 150px; */
				border-radius: 50%;
				overflow: hidden;
			}

			.camera-icon {
				position: absolute;
				bottom: 5px;
				right: 5px;
				background-color: #33cc99;
				color: #fff;
				border-radius: 50%;
				padding: 3px 6px;
				border: 3px solid white;
				cursor: pointer;
				transition: background-color 0.3s ease;
			}

			.camera-icon:hover {
				background-color: #0056b3;
			}
			.profile-tab {
				background-color: #f9f9b5;
				color: black;
				font-weight: 700;
			}

			.school-div {
				/* box-shadow: #cfcfcf 0px 0px 10px; */
				border-bottom: 1px solid #e3e3e3;
				color: #172441;
			}

			@media (max-width: 768px) {
				.profile-wrapper {
					width: 100%;
				}
			}
		</style>
	</head>
	<body>
		<div class="container mt-10 profile-wrapper">
			<!-- Main Body -->
			<div class="profile-body">
				<div class="bg-white py-2 px-4">
					<h4>Manage Profile</h4>
				</div>
				<div class="info d-flex gap-3 align-items-center justify-content-between p-2 p-md-5">
					<div class="d-flex gap-3 align-items-center">
						<div class="avatar-container">
							<div class="avatar">
								<img src="./images/pic.png" alt="Profile Avatar" class="img-fluid bg" />
							</div>
							<div class="camera-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Upload Profile Picture">
								<i class="bi bi-camera"></i>
							</div>
						</div>
						<div>
							<h3>Jamal Malik</h3>
							<p class="lead">jamal.malik@yahoo.fr</p>
							<p class="lead">+1 (479)-575-2000</p>
						</div>
					</div>

					<button type="button" class="btn btn-color" data-bs-toggle="modal" data-bs-target="#editNameModal">Edit</button>

					<!-- Edit Name Modal -->
					<div
						class="modal fade"
						id="editNameModal"
						data-bs-backdrop="static"
						data-bs-keyboard="false"
						tabindex="-1"
						aria-labelledby="editNameLabel"
						aria-hidden="true"
					>
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title fw-bold" id="editNameLabel">Edit Name</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<!-- First Name -->
									<div class="form-group">
										<label for="firstName" class="py-2 fw-bold">First Name:</label>
										<input type="text" class="form-control" id="firstName" name="firstName" required />
									</div>

									<!-- Last Name -->
									<div class="form-group">
										<label for="lastName" class="py-2 fw-bold">Last Name:</label>
										<input type="text" class="form-control" id="lastName" name="lastName" required readonly />
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-color w-100">Save</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<ul class="nav nav-tabs profile-tab px-md-5" id="myTab" role="tablist">
					<li class="nav-item" role="presentation">
						<button
							class="nav-link active p-3"
							id="contact-tab"
							data-bs-toggle="tab"
							data-bs-target="#contact"
							type="button"
							role="tab"
							aria-controls="contact"
							aria-selected="true"
						>
							<span class="d-flex align-items-center gap-2">
								<img src="./images/phone.svg" alt="" />
								<span>Contact</span>
							</span>
						</button>
					</li>
					<li class="nav-item" role="presentation">
						<button
							class="nav-link p-3"
							id="profile-tab"
							data-bs-toggle="tab"
							data-bs-target="#education"
							type="button"
							role="tab"
							aria-controls="education"
							aria-selected="false"
						>
							<span class="d-flex align-items-center gap-2">
								<img src="./images/graduation-cap.svg" alt="" />
								<span>Education</span>
							</span>
						</button>
					</li>
					<li class="nav-item" role="presentation">
						<button
							class="nav-link p-3"
							id="medical-tab"
							data-bs-toggle="tab"
							data-bs-target="#medical"
							type="button"
							role="tab"
							aria-controls="medical"
							aria-selected="false"
						>
							<span class="d-flex align-items-center gap-2">
								<img src="./images/syringe.svg" alt="" />
								<span>Medical</span>
							</span>
						</button>
					</li>
				</ul>
				<div class="tab-content" id="myTabContent">
					<!-- Contact Tab Form Starts here -->
					<div class="tab-pane fade show active p-md-5 bg-white" id="contact" role="tabpanel" aria-labelledby="contact-tab">
						<form id="contactForm" class="px-2 py-4">
							<!-- Address -->
							<div class="form-group">
								<label for="address" class="py-2 fw-bold">Address:</label>
								<input type="text" class="form-control" id="address" name="address" required />
							</div>

							<!-- State -->
							<div class="form-group">
								<label for="state" class="py-2 fw-bold">State:</label>
								<input type="text" class="form-control" id="state" name="state" required />
							</div>

							<!-- City -->
							<div class="form-group">
								<label for="city" class="py-2 fw-bold">City:</label>
								<input type="text" class="form-control" id="city" name="city" required />
							</div>

							<!-- Zipcode -->
							<div class="form-group">
								<label for="zipcode" class="py-2 fw-bold">Zipcode:</label>
								<input type="text" class="form-control" id="zipcode" name="zipcode" required />
							</div>

							<!-- Security Code -->
							<div class="form-group my-2">
								<label for="securityCode" class="py-2 fw-bold">Social Security Number (SSN):</label>
								<input type="text" class="form-control" id="securityCode" name="securityCode" required />
							</div>

							<!-- Emergency Contact Information -->
							<h4 class="my-5 fw-bold fs-6 fs-md-4">
								<span class="d-flex align-items-center gap-2">
									<img src="./images/emergency-call.svg" alt="" />
									<span> Emergency Contact Information </span>
								</span>
							</h4>

							<!-- Emergency Contact Name -->
							<div class="form-group">
								<label for="emergencyContactName" class="py-2 fw-bold">Emergency Contact Name:</label>
								<input type="text" class="form-control" id="emergencyContactName" name="emergencyContactName" required />
							</div>

							<!-- Contact Relationship -->
							<div class="form-group">
								<label for="contactRelationship" class="py-2 fw-bold">Contact Relationship:</label>
								<input type="text" class="form-control" id="contactRelationship" name="contactRelationship" required />
							</div>

							<!-- Contact Phone 1 -->
							<div class="form-group">
								<label for="contactPhone1" class="py-2 fw-bold">Contact Phone Number (1):</label>
								<input type="tel" class="form-control" id="contactPhone1" name="contactPhone1" required />
							</div>

							<!-- Contact Phone 2 -->
							<div class="form-group">
								<label for="contactPhone2" class="py-2 fw-bold">Contact Phone Number (2):</label>
								<input type="tel" class="form-control" id="contactPhone2" name="contactPhone2" />
							</div>

							<button type="submit" class="btn btn-color rounded-0 fs-6 mt-5 px-4">Save All Changes</button>
						</form>
					</div>
					<!-- Education Tab Form Starts here -->
					<div class="tab-pane fade p-3 p-md-5 bg-white" id="education" role="tabpanel" aria-labelledby="education-tab">
						<div class="school-div d-flex justify-content-between">
							<div class="d-flex flex-column">
								<h4 class="fw-bold">High School</h4>
								<span class="fs-5">Pea Ridge High School</span>
								<span class="fs-6">April 2008 - June 2012 </span>
								<span class="fs-6 lead">Pea Ridge, Arkansas</span>
							</div>
							<img src="./images/editIcon.svg" alt="" class="cursor-pointer" data-bs-toggle="modal" data-bs-target="#addSchoolModal" />
						</div>
						<button class="btn my-5 fs-5 fw-bold ps-0 d-flex align-items-center gap-2" data-bs-toggle="modal" data-bs-target="#addSchoolModal">
							<i class="bi bi-plus-circle-fill fs-3"></i>
							<span>Add Education</span>
						</button>

						<!-- Add School Modal -->
						<div
							class="modal fade"
							id="addSchoolModal"
							data-bs-backdrop="static"
							data-bs-keyboard="false"
							tabindex="-1"
							aria-labelledby="addSchoolModalLabel"
							aria-hidden="true"
						>
							<div class="modal-dialog">
								<form id="educationForm" class="px-2 py-4">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title" id="addSchoolModalLabel">Add Education</h5>
											<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
										</div>
										<div class="modal-body">
											<!-- School Name -->
											<div class="form-group">
												<label for="schoolName" class="py-2 fw-bold">School Name:</label>
												<input type="text" class="form-control" id="schoolName" name="schoolName" required />
											</div>

											<!-- Last Name -->
											<div class="form-group">
												<label for="schoolAddress" class="py-2 fw-bold">School Address:</label>
												<input type="text" class="form-control" id="schoolAddress" name="schoolAddress" required readonly />
											</div>
											<!-- Start Date -->
											<div>
												<label for="startDateMonth" class="col-sm-2 col-form-label">Start Date</label>
												<div class="row mb-3">
													<div class="col-sm-6">
														<input type="month" class="form-control" id="startDateMonth" name="startDateMonth" placeholder="month" required />
													</div>
													<div class="col-sm-6">
														<input type="number" class="form-control" id="startDateYear" name="startDateYear" placeholder="Year" required />
													</div>
												</div>
											</div>

											<!-- End Date -->
											<div>
												<label for="endDateMonth" class="py-2 fw-bold">End Date</label>
												<div class="row mb-3">
													<div class="col-sm-6">
														<input type="month" class="form-control" id="endDateMonth" name="endDateMonth" required />
													</div>
													<div class="col-sm-6">
														<input type="number" class="form-control" id="endDateYear" name="endDateYear" placeholder="Year" required />
													</div>
												</div>
											</div>
											<!-- Status -->
											<div class="row mb-3 ps-4">
												<div class="form-check col-sm-6">
													<input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" />
													<label class="form-check-label" for="flexCheckDefault"> Graduated </label>
												</div>
												<div class="form-check col-sm-6">
													<input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked />
													<label class="form-check-label" for="flexCheckChecked"> Dropped Out </label>
												</div>
											</div>
										</div>
										<div class="modal-footer">
											<button type="submit" class="btn btn-color w-100">Save</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div class="tab-pane fade p-md-5 bg-white" id="medical" role="tabpanel" aria-labelledby="medical-tab">
						<form id="medicalForm" class="px-2 py-4">
							<!-- Allergies -->
							<div class="form-group">
								<label for="allergies" class="py-2 fw-bold">Allergies:</label>
								<input type="text" class="form-control" id="allergies" name="allergies" required />
							</div>

							<!-- State -->
							<div class="form-group">
								<label for="medications" class="py-2 fw-bold">Current Medications:</label>
								<input type="text" class="form-control" id="medications" name="medications" required />
							</div>

							<button type="submit" class="btn btn-color rounded-0 fs-6 mt-5 px-4">Save All Changes</button>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- Bootstrap JS and dependencies -->
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

		<script>
			// Code to activate a tab and its content
			document.addEventListener("DOMContentLoaded", function () {
				// Function to activate a tab and its content
				function activateTab(tabId) {
					// Deactivate all tabs and contents
					document.querySelectorAll(".nav-link").forEach((tab) => {
						tab.classList.remove("active");
						const contentId = tab.getAttribute("aria-controls");
						const contentPane = document.getElementById(contentId);
						if (contentPane) {
							contentPane.classList.remove("show", "active");
						}
					});

					// Activate the selected tab and content
					const activeTab = document.getElementById(tabId);
					if (activeTab) {
						activeTab.classList.add("active");
						const contentId = activeTab.getAttribute("aria-controls");
						const contentPane = document.getElementById(contentId);
						if (contentPane) {
							contentPane.classList.add("show", "active");
						}
					}
				}

				// Check if there's a saved tab in localStorage
				const savedTab = localStorage.getItem("currentTab");
				if (savedTab) {
					activateTab(savedTab);
				} else {
					// Default to the first tab if nothing is saved
					activateTab("contact-tab");
				}

				// Event listeners for tab changes
				document.querySelectorAll(".nav-link").forEach((tabButton) => {
					tabButton.addEventListener("click", function () {
						const currentTabId = this.getAttribute("id");
						localStorage.setItem("currentTab", currentTabId); // Save current tab to localStorage
					});
				});
			});

			// Code to handle Contact form submission
			document.addEventListener("DOMContentLoaded", function () {
				// Access the form
				var contactForm = document.getElementById("contactForm");

				// Attach a submit event listener to the form
				contactForm.addEventListener("submit", function (event) {
					// Prevent the default form submission
					event.preventDefault();

					// Retrieve input values
					var address = document.getElementById("address").value;
					var state = document.getElementById("state").value;
					var city = document.getElementById("city").value;
					var zipcode = document.getElementById("zipcode").value;
					var securityCode = document.getElementById("securityCode").value;
					var emergencyContactName = document.getElementById("emergencyContactName").value;
					var contactRelationship = document.getElementById("contactRelationship").value;
					var contactPhone1 = document.getElementById("contactPhone1").value;
					var contactPhone2 = document.getElementById("contactPhone2").value;

					const contactFormData = {
						address: address,
						state: state,
						city: city,
						zipcode: zipcode,
						securityCode: securityCode,
						emergencyContactName: emergencyContactName,
						contactRelationship: contactRelationship,
						contactPhone1: contactPhone1,
						contactPhone2: contactPhone2,
					};

					console.log("Form Submitted with following data: ", contactFormData);

					// You can send the data to a backend server using Axios or fetch
				});
			});

			// Code to handle Education form submission
			document.addEventListener("DOMContentLoaded", function () {
				// Access the education form
				var educationForm = document.getElementById("educationForm");

				// Attach a submit event listener to the form
				educationForm.addEventListener("submit", function (event) {
					// Prevent the default form submission
					event.preventDefault();

					// Retrieve input values
					var schoolName = document.getElementById("schoolName").value;
					var schoolAddress = document.getElementById("schoolAddress").value;
					var startDateMonth = document.getElementById("startDateMonth").value;
					var startDateYear = document.getElementById("startDateYear").value;
					var endDateMonth = document.getElementById("endDateMonth").value;
					var endDateYear = document.getElementById("endDateYear").value;
					var graduated = document.getElementById("flexCheckDefault").checked;
					var droppedOut = document.getElementById("flexCheckChecked").checked;

					// Log values
					const educationFormData = {
						schoolName: schoolName,
						schoolAddress: schoolAddress,
						startDateMonth: startDateMonth,
						startDateYear: startDateYear,
						endDateMonth: endDateMonth,
						endDateYear: endDateYear,
						graduated: graduated,
						droppedOut: droppedOut,
					};
					console.log("Education Form Submitted with following data: ", educationFormData);

					// Here you can send these values to a server or process them further
				});
			});
		</script>
	</body>
</html>
